{"version":3,"sources":["app/ServerContext.ts"],"names":[],"mappings":";;AAGA;;;GAGG;AACH;IAKC;;OAEG;IACH,IAAW,mBAAmB;QAC7B,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC;IAC3B,CAAC;IAED;;OAEG;IACH,IAAW,UAAU;QACpB,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC;IACzB,CAAC;IAEM,sBAAsB,CAAC,SAA+B;QAC5D,IAAI,CAAC,aAAa,GAAG,SAAS,CAAC;IAChC,CAAC;IAEM,aAAa,CAAC,MAAc;QAClC,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YAC7B,MAAM,GAAG,GAAG,GAAG,MAAM,CAAC;QACvB,CAAC;QACD,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YAC3B,wBAAwB;YACxB,MAAM,GAAG,MAAM,GAAG,GAAG,CAAC;QACvB,CAAC;QACD,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC;IAC3B,CAAC;CACD;AAjCD,sCAiCC;AAEY,QAAA,aAAa,GAAG,IAAI,aAAa,EAAE,CAAC","file":"ServerContext.js","sourcesContent":["import { IDependencyContainer, Guard } from 'back-lib-common-util';\r\n\r\n\r\n/**\r\n * Serves as a global object for all web-related classes (controllers, policies...)\r\n * to use.\r\n */\r\nexport class ServerContext {\r\n\r\n\tprivate _depContainer: IDependencyContainer;\r\n\tprivate _pathPrefix: string;\r\n\r\n\t/**\r\n\t * Gets dependency container.\r\n\t */\r\n\tpublic get dependencyContainer(): IDependencyContainer {\r\n\t\treturn this._depContainer;\r\n\t}\r\n\r\n\t/**\r\n\t * Gets path prefix. Eg: /api/v1.\r\n\t */\r\n\tpublic get pathPrefix(): string {\r\n\t\treturn this._pathPrefix;\r\n\t}\r\n\r\n\tpublic setDependencyContainer(container: IDependencyContainer): void {\r\n\t\tthis._depContainer = container;\r\n\t}\r\n\r\n\tpublic setPathPrefix(prefix: string): void {\r\n\t\tif (!prefix.startsWith('/')) {\r\n\t\t\tprefix = '/' + prefix;\r\n\t\t}\r\n\t\tif (!prefix.endsWith('/')) {\r\n\t\t\t// Remove trailing slash\r\n\t\t\tprefix = prefix + '/';\r\n\t\t}\r\n\t\tthis._pathPrefix = prefix;\r\n\t}\r\n}\r\n\r\nexport const serverContext = new ServerContext();"]}